(function(t){function e(e){for(var i,s,r=e[0],c=e[1],l=e[2],d=0,f=[];d<r.length;d++)s=r[d],a[s]&&f.push(a[s][0]),a[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],i=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(i=!1)}i&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},a={app:0},o=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"00c0":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-text-field",{attrs:{box:"",label:t.field.name,type:"number"},model:{value:t.item[t.field.name],callback:function(e){t.$set(t.item,t.field.name,t._n(e))},expression:"item[field.name]"}})},a=[],o={name:"int-input",props:{field:Object,item:Object}},s=o,r=n("2877"),c=Object(r["a"])(s,i,a,!1,null,null,null);e["default"]=c.exports},"0444":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-switch",{attrs:{box:"",label:t.field.name},model:{value:t.item[t.field.name],callback:function(e){t.$set(t.item,t.field.name,e)},expression:"item[field.name]"}})},a=[],o={name:"bool-input",props:{field:Object,item:Object}},s=o,r=n("2877"),c=Object(r["a"])(s,i,a,!1,null,null,null);e["default"]=c.exports},"15df":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-chip",{staticClass:"primary",attrs:{"text-color":"white"}},[t._v(t._s(t.item[t.field.name]))])},a=[],o={name:"enum-output",props:{field:Object,item:Object}},s=o,r=n("2877"),c=Object(r["a"])(s,i,a,!1,null,null,null);e["default"]=c.exports},"4a00":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-select",{attrs:{label:t.field.name,box:"",items:t.field.schema.addition.values},model:{value:t.item[t.field.name],callback:function(e){t.$set(t.item,t.field.name,e)},expression:"item[field.name]"}})},a=[],o={name:"enum-input",props:{field:Object,item:Object}},s=o,r=n("2877"),c=Object(r["a"])(s,i,a,!1,null,null,null);e["default"]=c.exports},"56d7":function(t,e,n){"use strict";n.r(e);n("7f7f"),n("ac6a"),n("cadf"),n("551c"),n("f751"),n("097d");var i=n("a026"),a=n("ce5b"),o=n.n(a),s=n("bc3a"),r=n.n(s),c=n("00e7"),l=n.n(c),u=n("ead5"),d=n.n(u),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-content",[n("v-container",[n("v-snackbar",{model:{value:t.notification,callback:function(e){t.notification=e},expression:"notification"}},[t._v(t._s(t.notificationText))]),n("router-view",{on:{notification:t.addNotification}})],1)],1)],1)},m=[],p=(n("3022"),{data:function(){return{notificationText:"",notificationQueue:[],notification:!1}},computed:{hasNotificationsPending:function(){return this.notificationQueue.length>0}},watch:{notification:function(){var t=this;!this.notification&&this.hasNotificationsPending&&(this.notificationText=this.notificationQueue.shift(),this.$nextTick(function(){return t.notification=!0}))}},methods:{addNotification:function(t){this.notificationQueue.push(t),this.notification||(this.notificationText=this.notificationQueue.shift(),this.notification=!0)}}}),h=p,v=n("2877"),b=Object(v["a"])(h,f,m,!1,null,null,null),_=b.exports,x=n("8c4f"),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("scalest-header"),n("v-layout",{staticClass:"align-center justify-center row"},[n("v-carousel",[n("v-carousel-item",{key:"0",staticClass:"my-1"},[n("v-container",{staticClass:"fill-heigth"},[n("v-layout",{staticClass:"align-center justify-center"},[n("img",{staticStyle:{"max-width":"100%","max-height":"100%"},attrs:{src:t.publicPath+"/static/images/scalest.png",alt:"scalest-logo"}})])],1)],1)],1)],1)],1)},O=[],y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",{staticClass:"mb-3",attrs:{flat:"flat",tile:"tile"}},[n("v-toolbar",{attrs:{dense:""}},[n("v-toolbar-title",[n("v-btn",{attrs:{flat:"",to:"/"}},[n("span",[t._v("Scalest Admin")])])],1),n("v-spacer"),n("v-menu",{attrs:{"offset-y":"offset-y"}},[n("v-toolbar-title",{attrs:{slot:"activator"},slot:"activator"},[n("span",[t._v("Models")]),n("v-icon",[t._v("arrow_drop_down")])],1),n("v-list",t._l(t.models,function(e){return n("v-list-tile",{key:e,attrs:{to:"/model/"+e,ripple:"ripple"}},[t._v(t._s(e))])}),1)],1)],1)],1)},j=[],k=n("f499"),w=n.n(k),$={name:"scalest-header",data:function(){return{models:[]}},mounted:function(){this.$cookie.get("SCALEST_ADMIN")&&this.initSchemas()},methods:{initSchemas:function(){var t=this;this.$http.get("".concat("","/admin/schemas")).then(function(e){var n=e.data;i["default"].localStorage.set("schemas",w()(n)),t.models=n.map(function(t){return t.name})})}}},I=$,S=Object(v["a"])(I,y,j,!1,null,null,null),C=S.exports,E={name:"home",components:{ScalestHeader:C},data:function(){return{publicPath:""}}},T=E,A=Object(v["a"])(T,g,O,!1,null,null,null),N=A.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},[n("v-content",[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[t._v("Login to Scalest Admin")])],1),n("v-card-text",[n("v-form",[n("v-text-field",{attrs:{"prepend-icon":"person",name:"login",label:"Login",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),n("v-text-field",{attrs:{id:"password","prepend-icon":"lock",name:"password",label:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:t.doLogin}},[t._v("Login")])],1)],1)],1)],1)],1)],1)],1)},L=[],P={data:function(){return{username:"",password:""}},methods:{doLogin:function(t){var e=this,n={username:this.username,password:this.password};this.$http.post("".concat("","/admin/login"),n).then(function(t){e.$cookie.set("SCALEST_ADMIN",t.data.token),r.a.defaults.headers.common["Authorization"]="Basic ".concat(t.data.token);var n=e.$route.params.nextUrl||"/";e.$router.push(n)}).catch(function(t){return e.$emit("notification","Can`t login")})}}},z=P,D=Object(v["a"])(z,M,L,!1,null,null,null),Q=D.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("scalest-header"),n("v-toolbar",{attrs:{color:"white",flat:"flat"}},[n("v-toolbar-title",[t._v(t._s(t.schema.name))]),n("v-divider",{staticClass:"mx-2",attrs:{inset:"inset",vertical:"vertical"}}),n("v-spacer"),n("v-dialog",{staticStyle:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:"dark"},slot:"activator"},[t._v("New Item")]),n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":"grid-list-md"}},[n("v-layout",{attrs:{wrap:"wrap"}},[n("v-flex",{attrs:{xs12:"xs12"}},[t._l(t.schema.fields,function(e){return[e.schema.inputType?n(e.schema.inputType,{key:e.name,tag:"component",attrs:{item:t.editedItem,field:e}}):t._e()]})],2)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:"flat"},on:{click:t.close}},[t._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",flat:"flat"},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.models},scopedSlots:t._u([{key:"items",fn:function(e){return[t._l(t.schema.fields,function(i){return[n("td",{key:i.name},[i.schema.outputType?n(i.schema.outputType,{key:i.name,tag:"component",attrs:{item:e.item,field:i}}):t._e()],1)]}),n("td",{staticClass:"layout"},[n("v-icon",{staticClass:"mr-2",attrs:{small:"small"},on:{click:function(n){return t.editItem(e.item)}}},[t._v("edit")]),n("v-icon",{attrs:{small:"small"},on:{click:function(n){return t.deleteItem(e.item)}}},[t._v("delete")])],1)]}}])})],1)},J=[],U=n("5176"),H=n.n(U),F=(n("7514"),n("d225")),q=n("b0b4"),G=function(){function t(e){Object(F["a"])(this,t),this.name=e.name,this.fields=e.fields}return Object(q["a"])(t,[{key:"headers",value:function(){var t=[];return this.fields.forEach(function(e){e.schema.outputType&&t.push({text:e.name,value:e.name})}),t.push({text:"Actions",value:"id",sortable:!1}),t}},{key:"defaultItem",value:function(){var t={};return this.fields.forEach(function(e){return t[e.name]=e.schema.default}),t}}]),t}(),K={props:{name:String},name:"Model",components:{ScalestHeader:C},data:function(){return{dialog:!1,headers:[],models:[],editedIndex:-1,schema:{},editedItem:{}}},watch:{dialog:function(t){t||this.close()},$route:function(t,e){this.initialize()}},created:function(){this.initialize()},computed:{formTitle:function(){return this.isCreateMode()?"New Item":"Edit Item"}},validations:function(){return{}},methods:{isCreateMode:function(){return-1===this.editedIndex},initialize:function(){var t=this;this.$http.get("".concat("","/api/").concat(this.name)).then(function(e){return t.models=e.data});var e=JSON.parse(this.$localStorage.get("schemas","[]")).map(function(t){return new G(t)});this.schema=e.find(function(e){return e.name===t.name}),this.editedItem=this.schema.defaultItem(),this.headers=this.schema.headers()},editItem:function(t){this.editedIndex=this.models.indexOf(t),this.editedItem=JSON.parse(w()(t)),this.dialog=!0},deleteItem:function(t){var e=this,n=this.models.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.$http.delete("".concat("","/api/").concat(this.name),{data:[t.id]}).then(function(t){e.models.splice(n,1),e.$emit("notification","Successfully deleted item")}).catch(function(t){return e.$emit("notification","Can`t delete item")})},close:function(){var t=this;this.dialog=!1,setTimeout(function(){t.editedItem=H()({},t.schema.defaultItem()),t.editedIndex=-1},300)},save:function(){var t=this;this.editedIndex>-1?this.$http.put("".concat("","/api/").concat(this.name),this.editedItem).then(function(e){H()(t.models[t.editedIndex],t.editedItem),t.$emit("notification","Successfully updated item")}).catch(function(e){return t.$emit("notification","Can`t update item")}):this.$http.post("".concat("","/api/").concat(this.name),this.editedItem).then(function(e){t.editedItem.id=e.data,t.models.push(t.editedItem),t.$emit("notification","Successfully created item")}).catch(function(e){return t.$emit("notification","Can`t create item")}),this.close()}}},R=K,V=Object(v["a"])(R,B,J,!1,null,"fdf7c512",null),W=V.exports;i["default"].use(x["a"]);var X=new x["a"]({routes:[{path:"/",component:N,meta:{auth:!0}},{path:"/model/:name",component:W,props:function(t){return{name:t.params.name}},meta:{auth:!0}},{path:"/login",component:Q}]});X.beforeEach(function(t,e,n){t.matched.some(function(t){return t.meta.auth})&&null==i["default"].cookie.get("SCALEST_ADMIN")?n({path:"/login",params:{nextUrl:t.fullPath}}):n()});var Y=X;n("bf40");i["default"].config.productionTip=!1,r.a.defaults.withCredentials=!0,i["default"].prototype.$http=r.a,i["default"].use(l.a),i["default"].use(d.a),i["default"].use(o.a);var Z=n("e6df");Z.keys().map(function(t){var e=Z(t).default;return i["default"].component(e.name,e)});var tt=i["default"].cookie.get("SCALEST_ADMIN");tt?r.a.defaults.headers.common["Authorization"]="Basic ".concat(tt):delete r.a.defaults.headers.common["Authorization"],new i["default"]({router:Y,render:function(t){return t(_)}}).$mount("#app")},7679:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t._v(t._s(t.item[t.field.name]))])},a=[],o={name:"int-output",props:{field:Object,item:Object}},s=o,r=n("2877"),c=Object(r["a"])(s,i,a,!1,null,null,null);e["default"]=c.exports},b6ae:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t._v(t._s(t.item[t.field.name]))])},a=[],o={name:"string-output",props:{field:Object,item:Object}},s=o,r=n("2877"),c=Object(r["a"])(s,i,a,!1,null,null,null);e["default"]=c.exports},b7dc:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-text-field",{attrs:{box:"",label:t.field.name},model:{value:t.item[t.field.name],callback:function(e){t.$set(t.item,t.field.name,e)},expression:"item[field.name]"}})},a=[],o={name:"string-input",props:{field:Object,item:Object}},s=o,r=n("2877"),c=Object(r["a"])(s,i,a,!1,null,null,null);e["default"]=c.exports},cdcb:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("span",[t._v(t._s(t.item[t.field.name]))])},a=[],o={name:"list-output",props:{field:Object,item:Object}},s=o,r=n("2877"),c=Object(r["a"])(s,i,a,!1,null,null,null);e["default"]=c.exports},e22a:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v(t._s(t.item[t.field.name]))])},a=[],o={name:"list-input",props:{field:Object,item:Object}},s=o,r=n("2877"),c=Object(r["a"])(s,i,a,!1,null,null,null);e["default"]=c.exports},e6df:function(t,e,n){var i={"./inputs/BoolInput.vue":"0444","./inputs/EnumInput.vue":"4a00","./inputs/IntInput.vue":"00c0","./inputs/ListInput.vue":"e22a","./inputs/StringInput.vue":"b7dc","./outputs/BoolOutput.vue":"fce1","./outputs/EnumOutput.vue":"15df","./outputs/IntOutput.vue":"7679","./outputs/ListOutput.vue":"cdcb","./outputs/StringOutput.vue":"b6ae"};function a(t){var e=o(t);return n(e)}function o(t){var e=i[t];if(!(e+1)){var n=new Error("Cannot find module '"+t+"'");throw n.code="MODULE_NOT_FOUND",n}return e}a.keys=function(){return Object.keys(i)},a.resolve=o,t.exports=a,a.id="e6df"},fce1:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-icon",{attrs:{color:t.color}},[t._v(t._s(t.icon))])},a=[],o=(n("7f7f"),{name:"bool-output",props:{field:Object,item:Object},computed:{color:function(){return this.item[this.field.name]?"green":"red"},icon:function(){return this.item[this.field.name]?"check_circle":"cancel"}}}),s=o,r=n("2877"),c=Object(r["a"])(s,i,a,!1,null,null,null);e["default"]=c.exports}});
//# sourceMappingURL=app.c6a07234.js.map