(function(e){function t(t){for(var a,r,s=t[0],c=t[1],l=t[2],_=0,m=[];_<s.length;_++)r=s[_],i[r]&&m.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(a=!1)}a&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={app:0},o=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"00c0":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-text-field",{attrs:{box:"",label:e.field.name,type:"number"},model:{value:e.item[e.field.name],callback:function(t){e.$set(e.item,e.field.name,e._n(t))},expression:"item[field.name]"}})},i=[],o={name:"int-input",props:{field:Object,item:Object}},r=o,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,null,null);t["default"]=c.exports},"0444":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-switch",{attrs:{box:"",label:e.field.name},model:{value:e.item[e.field.name],callback:function(t){e.$set(e.item,e.field.name,t)},expression:"item[field.name]"}})},i=[],o={name:"bool-input",props:{field:Object,item:Object}},r=o,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,null,null);t["default"]=c.exports},"15df":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-chip",{staticClass:"primary",attrs:{"text-color":"white"}},[e._v(e._s(e.item[e.field.name]))])},i=[],o={name:"enum-output",props:{field:Object,item:Object}},r=o,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,null,null);t["default"]=c.exports},4004:function(e,t,n){"use strict";n.d(t,"a",function(){return o});n("ac6a"),n("7f7f");var a=n("d225"),i=n("b0b4"),o=function(){function e(t){Object(a["a"])(this,e),this.name=t.name,this.fields=t.fields}return Object(i["a"])(e,[{key:"headers",value:function(){var e=[];return this.fields.forEach(function(t){t.schema.outputType?e.push({text:t.name,value:t.name}):t.schema.outputComponent&&e.push({text:t.name,value:t.name})}),e.push({text:"Actions",value:"id",sortable:!1}),e}},{key:"defaultItem",value:function(){var e={};return this.fields.forEach(function(t){return e[t.name]=t.schema.default}),e}},{key:"components",value:function(){return this.fields.flatMap(function(e){var t=[];return void 0!==e.schema.outputComponent&&t.push(e.schema.outputComponent),void 0!==e.schema.inputComponent&&t.push(e.schema.inputComponent),t})}}]),e}()},"4a00":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-select",{attrs:{label:e.field.name,box:"",items:e.field.schema.addition.values},model:{value:e.item[e.field.name],callback:function(t){e.$set(e.item,e.field.name,t)},expression:"item[field.name]"}})},i=[],o={name:"enum-input",props:{field:Object,item:Object}},r=o,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,null,null);t["default"]=c.exports},"56d7":function(e,t,n){"use strict";n.r(t);n("7f7f"),n("ac6a"),n("cadf"),n("551c"),n("f751"),n("097d");var a=n("a026"),i=n("ce5b"),o=n.n(i),r=n("bc3a"),s=n.n(r),c=n("00e7"),l=n.n(c),u=n("ead5"),_=n.n(u),m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-content",[n("v-container",[n("v-snackbar",{model:{value:e.notification,callback:function(t){e.notification=t},expression:"notification"}},[e._v(e._s(e.notificationText))]),n("router-view",{on:{notification:e.addNotification}})],1)],1)],1)},d=[],f={data:function(){return{notificationText:"",notificationQueue:[],notification:!1}},computed:{hasNotificationsPending:function(){return this.notificationQueue.length>0}},watch:{notification:function(){var e=this;!this.notification&&this.hasNotificationsPending&&(this.notificationText=this.notificationQueue.shift(),this.$nextTick(function(){return e.notification=!0}))}},methods:{addNotification:function(e){this.notificationQueue.push(e),this.notification||(this.notificationText=this.notificationQueue.shift(),this.notification=!0)}}},p=f,h=n("2877"),v=Object(h["a"])(p,m,d,!1,null,null,null),b=v.exports,x=n("8c4f"),O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("toolbar"),n("v-layout",{staticClass:"align-center justify-center row"},[n("v-carousel",[n("v-carousel-item",{key:"0",staticClass:"my-1"},[n("v-container",{staticClass:"fill-heigth"},[n("v-layout",{staticClass:"align-center justify-center"},[n("img",{staticStyle:{"max-width":"100%","max-height":"100%"},attrs:{src:e.publicPath+"/scalest.png",alt:"scalest-logo"}})])],1)],1)],1)],1)],1)},E=[],j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"mb-3",attrs:{flat:"flat",tile:"tile"}},[n("v-toolbar",{attrs:{dense:""}},[n("v-toolbar-title",[n("v-btn",{attrs:{flat:"",to:"/"}},[n("span",[e._v("Scalest Admin")])])],1),n("v-spacer"),e.models.length>0?n("v-menu",{attrs:{"offset-y":"offset-y"}},[n("v-toolbar-title",{attrs:{slot:"activator"},slot:"activator"},[n("span",[e._v("Models")]),n("v-icon",[e._v("arrow_drop_down")])],1),n("v-list",e._l(e.models,function(t){return n("v-list-tile",{key:t,attrs:{to:"/model/"+t,ripple:"ripple"}},[e._v(e._s(t)+"\n                ")])}),1)],1):e._e()],1)],1)},g=[],k=(n("96cf"),n("3b8d")),w=n("a808"),y={name:"scalest-header",data:function(){return{models:[]}},mounted:function(){var e=Object(k["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!this.$cookie.get("SCALEST_ADMIN")){e.next=5;break}return e.next=3,w["a"].all();case 3:e.t0=function(e){return e.name},this.models=e.sent.map(e.t0);case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},P=y,I=Object(h["a"])(P,j,g,!1,null,null,null),C=I.exports,M={name:"home",components:{Toolbar:C},data:function(){return{publicPath:""}}},D=M,T=Object(h["a"])(D,O,E,!1,null,null,null),$=T.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"inspire"}},[n("v-content",[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{dark:"",color:"primary"}},[n("v-toolbar-title",[e._v("Login to Scalest Admin")])],1),n("v-card-text",[n("v-form",[n("v-text-field",{attrs:{"prepend-icon":"person",name:"login",label:"Login",type:"text"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),n("v-text-field",{attrs:{id:"password","prepend-icon":"lock",name:"password",label:"Password",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:e.doLogin}},[e._v("Login")])],1)],1)],1)],1)],1)],1)],1)},A=[],L={data:function(){return{username:"",password:""}},methods:{doLogin:function(){var e=this,t={username:this.username,password:this.password};this.$http.post("".concat("","/admin/login"),t).then(function(t){e.$cookie.set("SCALEST_ADMIN",t.data.token),s.a.defaults.headers.common["Authorization"]="Basic ".concat(t.data.token),e.$router.push(e.$route.params.nextUrl||"/")}).catch(function(){return e.$emit("notification","Can`t login")})}}},R=L,B=Object(h["a"])(R,S,A,!1,null,null,null),U=B.exports,K=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("toolbar"),n("v-toolbar",{attrs:{color:"white",flat:"flat"}},[n("v-toolbar-title",[e._v(e._s(e.schema.name))]),n("v-divider",{staticClass:"mx-2",attrs:{inset:"inset",vertical:"vertical"}}),n("v-spacer"),n("v-dialog",{staticStyle:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-btn",{staticClass:"mb-2",attrs:{slot:"activator",color:"primary",dark:"dark"},slot:"activator"},[e._v("New Item")]),n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[e._v(e._s(e.formTitle))])]),n("v-card-text",[n("v-container",{attrs:{"grid-list-md":"grid-list-md"}},[n("v-layout",{attrs:{wrap:"wrap"}},[n("v-flex",{attrs:{xs12:"xs12"}},[e._l(e.schema.fields,function(t){return[t.schema.inputType||t.schema.inputComponent?n(t.schema.inputType||t.schema.inputComponent.id,{key:t.name,tag:"component",attrs:{item:e.editedItem,field:t}}):e._e()]})],2)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",flat:"flat"},on:{click:e.close}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",flat:"flat"},on:{click:e.save}},[e._v("Save")])],1)],1)],1)],1),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.models},scopedSlots:e._u([{key:"items",fn:function(t){return[e._l(e.schema.fields,function(a){return[n("td",{key:a.name},[a.schema.outputType||a.schema.outputComponent?n(a.schema.outputType||a.schema.outputComponent.id,{key:a.name,tag:"component",attrs:{item:t.item,field:a}}):e._e()],1)]}),n("td",{staticClass:"layout"},[n("v-icon",{staticClass:"mr-2",attrs:{small:"small"},on:{click:function(n){return e.editItem(t.item)}}},[e._v("edit")]),n("v-icon",{attrs:{small:"small"},on:{click:function(n){return e.deleteItem(t.item)}}},[e._v("delete")])],1)]}}])})],1)},W=[],N=n("5176"),q=n.n(N),z=n("f499"),Q=n.n(z),J=(n("7514"),{props:{name:String},name:"Model",components:{Toolbar:C},data:function(){return{dialog:!1,headers:[],models:[],editedIndex:-1,schema:{},editedItem:{}}},watch:{dialog:function(e){e||this.close()},$route:function(){this.initialize()}},created:function(){this.initialize()},computed:{formTitle:function(){return this.isCreateMode()?"New Item":"Edit Item"}},validations:function(){return{}},methods:{isCreateMode:function(){return-1===this.editedIndex},initialize:function(){var e=Object(k["a"])(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.$http.get("".concat("","/api/").concat(this.name)).then(function(e){return t.models=e.data}),e.next=3,w["a"].all();case 3:e.t0=function(e){return e.name===t.name},this.schema=e.sent.find(e.t0),this.editedItem=this.schema.defaultItem(),this.headers=this.schema.headers();case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),editItem:function(e){this.editedIndex=this.models.indexOf(e),this.editedItem=JSON.parse(Q()(e)),this.dialog=!0},deleteItem:function(e){var t=this,n=this.models.indexOf(e);confirm("Are you sure you want to delete this item?")&&this.$http.delete("".concat("","/api/").concat(this.name),{data:[e.id]}).then(function(){t.models.splice(n,1),t.$emit("notification","Successfully deleted item")}).catch(function(){return t.$emit("notification","Can`t delete item")})},close:function(){var e=this;this.dialog=!1,setTimeout(function(){e.editedItem=q()({},e.schema.defaultItem()),e.editedIndex=-1},300)},save:function(){var e=this;this.editedIndex>-1?this.$http.put("".concat("","/api/").concat(this.name),this.editedItem).then(function(t){q()(e.models[e.editedIndex],e.editedItem),e.$emit("notification","Successfully updated item")}).catch(function(){return e.$emit("notification","Can`t update item")}):this.$http.post("".concat("","/api/").concat(this.name),this.editedItem).then(function(t){e.editedItem.id=t.data,e.models.push(e.editedItem),e.$emit("notification","Successfully created item")}).catch(function(){return e.$emit("notification","Can`t create item")}),this.close()}}}),G=J,F=Object(h["a"])(G,K,W,!1,null,"7a7593a7",null),H=F.exports;a["default"].use(x["a"]);var V=new x["a"]({routes:[{path:"/",component:$,meta:{auth:!0}},{path:"/model/:name",component:H,props:function(e){return{name:e.params.name}},meta:{auth:!0}},{path:"/login",component:U}]});V.beforeEach(function(e,t,n){e.matched.some(function(e){return e.meta.auth})&&null==a["default"].cookie.get("SCALEST_ADMIN")?n({path:"/login",params:{nextUrl:e.fullPath}}):n()});var X=V;n("bf40");a["default"].config.productionTip=!1,s.a.defaults.withCredentials=!0,a["default"].prototype.$http=s.a,a["default"].use(l.a),a["default"].use(_.a),a["default"].use(o.a);var Y=n("e6df");Y.keys().map(function(e){var t=Y(e).default;return a["default"].component(t.name,t)});var Z=a["default"].cookie.get("SCALEST_ADMIN");Z?s.a.defaults.headers.common["Authorization"]="Basic ".concat(Z):delete s.a.defaults.headers.common["Authorization"],new a["default"]({router:X,render:function(e){return e(b)}}).$mount("#app")},7679:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._v(e._s(e.item[e.field.name]))])},i=[],o={name:"int-output",props:{field:Object,item:Object}},r=o,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,null,null);t["default"]=c.exports},a808:function(module,__webpack_exports__,__webpack_require__){"use strict";var _home_olejk4_Projects_Scala_scalest_admin_vue_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("795b"),_home_olejk4_Projects_Scala_scalest_admin_vue_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_home_olejk4_Projects_Scala_scalest_admin_vue_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_1__),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("96cf"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__),_home_olejk4_Projects_Scala_scalest_admin_vue_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("3b8d"),axios__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("bc3a"),axios__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_4__),_model_schema__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("4004"),vue__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("a026"),SchemaStorage={schemas:null,all:function(){var _all=Object(_home_olejk4_Projects_Scala_scalest_admin_vue_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark(function _callee(){var components;return regeneratorRuntime.wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(null!==this.schemas){_context.next=13;break}return _context.prev=1,this.schemas=axios__WEBPACK_IMPORTED_MODULE_4___default.a.get("".concat("","/admin/schemas")).then(function(e){return e.data.map(function(e){return new _model_schema__WEBPACK_IMPORTED_MODULE_5__["a"](e)})}),_context.next=5,this.schemas;case 5:_context.t0=function(e){return e.components()},components=_context.sent.flatMap(_context.t0),components.forEach(function(c){vue__WEBPACK_IMPORTED_MODULE_6__["default"].component(c.id,eval(c.body))}),_context.next=13;break;case 10:_context.prev=10,_context.t1=_context["catch"](1),this.schemas=_home_olejk4_Projects_Scala_scalest_admin_vue_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_0___default.a.resolve([]);case 13:return _context.next=15,this.schemas;case 15:return _context.abrupt("return",_context.sent);case 16:case"end":return _context.stop()}},_callee,this,[[1,10]])}));function all(){return _all.apply(this,arguments)}return all}()};__webpack_exports__["a"]=SchemaStorage},b6ae:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._v(e._s(e.item[e.field.name]))])},i=[],o={name:"string-output",props:{field:Object,item:Object}},r=o,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,null,null);t["default"]=c.exports},b7dc:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-text-field",{attrs:{box:"",label:e.field.name},model:{value:e.item[e.field.name],callback:function(t){e.$set(e.item,e.field.name,t)},expression:"item[field.name]"}})},i=[],o={name:"string-input",props:{field:Object,item:Object}},r=o,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,null,null);t["default"]=c.exports},cdcb:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",[e._v(e._s(e.item[e.field.name]))])},i=[],o={name:"list-output",props:{field:Object,item:Object}},r=o,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,null,null);t["default"]=c.exports},e22a:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(e._s(e.item[e.field.name]))])},i=[],o={name:"list-input",props:{field:Object,item:Object}},r=o,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,null,null);t["default"]=c.exports},e6df:function(e,t,n){var a={"./inputs/BoolInput.vue":"0444","./inputs/EnumInput.vue":"4a00","./inputs/IntInput.vue":"00c0","./inputs/ListInput.vue":"e22a","./inputs/StringInput.vue":"b7dc","./outputs/BoolOutput.vue":"fce1","./outputs/EnumOutput.vue":"15df","./outputs/IntOutput.vue":"7679","./outputs/ListOutput.vue":"cdcb","./outputs/StringOutput.vue":"b6ae"};function i(e){var t=o(e);return n(t)}function o(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}i.keys=function(){return Object.keys(a)},i.resolve=o,e.exports=i,i.id="e6df"},fce1:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-icon",{attrs:{color:e.color}},[e._v(e._s(e.icon))])},i=[],o=(n("7f7f"),{name:"bool-output",props:{field:Object,item:Object},computed:{color:function(){return this.item[this.field.name]?"green":"red"},icon:function(){return this.item[this.field.name]?"check_circle":"cancel"}}}),r=o,s=n("2877"),c=Object(s["a"])(r,a,i,!1,null,null,null);t["default"]=c.exports}});
//# sourceMappingURL=app.079abc39.js.map